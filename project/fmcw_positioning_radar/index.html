<!DOCTYPE html><html lang="en-us" >

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.1.0 for Hugo" />
  

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Cheng Zhang" />

  
  
  
    
  
  <meta name="description" content="A FMCW Radar with 4 transmitting antennas and 12 receive antennas working within the 2.7 GHz - 3.7 GHz band that can locate a person in the same room with accuracy of 20 cm." />

  
  <link rel="alternate" hreflang="en-us" href="https://chengzhag.github.io/project/fmcw_positioning_radar/" />

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    <meta name="theme-color" content="#1565c0" />
  

  
  

  
  
  
  
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">

    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.9a66e344a68eb664b392d406a3f80726.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120268499-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'UA-120268499-3', {});
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  

  

  




  
  
  

  

  
    <link rel="manifest" href="/index.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_2.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_180x180_fill_lanczos_center_2.png" />

  <link rel="canonical" href="https://chengzhag.github.io/project/fmcw_positioning_radar/" />

  
  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image" />
  
  <meta property="og:site_name" content="Cheng Zhang" />
  <meta property="og:url" content="https://chengzhag.github.io/project/fmcw_positioning_radar/" />
  <meta property="og:title" content="FMCW Positioning Radar | Cheng Zhang" />
  <meta property="og:description" content="A FMCW Radar with 4 transmitting antennas and 12 receive antennas working within the 2.7 GHz - 3.7 GHz band that can locate a person in the same room with accuracy of 20 cm." /><meta property="og:image" content="https://chengzhag.github.io/project/fmcw_positioning_radar/featured.jpg" />
    <meta property="twitter:image" content="https://chengzhag.github.io/project/fmcw_positioning_radar/featured.jpg" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2018-05-28T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2018-05-28T00:00:00&#43;00:00">
  

  


    









<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://chengzhag.github.io/project/fmcw_positioning_radar/"
  },
  "headline": "FMCW Positioning Radar",
  
  "image": [
    "https://chengzhag.github.io/project/fmcw_positioning_radar/featured.jpg"
  ],
  
  "datePublished": "2018-05-28T00:00:00Z",
  "dateModified": "2018-05-28T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Cheng Zhang"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Cheng Zhang",
    "logo": {
      "@type": "ImageObject",
      "url": "https://chengzhag.github.io/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "A FMCW Radar with 4 transmitting antennas and 12 receive antennas working within the 2.7 GHz - 3.7 GHz band that can locate a person in the same room with accuracy of 20 cm."
}
</script>

  

  

  

  





  <title>FMCW Positioning Radar | Cheng Zhang</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="c6fa4c6a2d34bff5f689074f080f31dd" >

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.226a9011996d125bf3fe4a5f22353a49.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container-xl">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Cheng Zhang</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Cheng Zhang</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#publications"><span>Publication</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>Projects</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      
      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    <article class="article article-project">

  




















  
  
    
  


<div class="article-container pt-3">
  <h1>FMCW Positioning Radar</h1>

  

  


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    May 28, 2018
  </span>
  

  

  

  
  
  
  
  
  

  
  

</div>

  




<div class="btn-links mb-3">
  
  








  






  
  
    
  
<a class="btn btn-outline-primary btn-page-header" href="https://github.com/pidan1231239/fmcw_positioning_radar" target="_blank" rel="noopener">
  Code
</a>








  
  
    
  
<a class="btn btn-outline-primary btn-page-header" href="https://sway.office.com/5uSW86N1bUqbrA7T?ref=Link" target="_blank" rel="noopener">
  Slides
</a>







</div>


</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 540px;">
  <div style="position: relative">
    <img src="/project/fmcw_positioning_radar/featured_hu2fa601a20825afa33e025b69774dffa0_2234209_720x0_resize_q75_lanczos.jpg" alt="" class="featured-image">
    <span class="article-header-caption">The whole system on a cart</span>
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      <h2 id="introduction">Introduction</h2>
<p>FMCW Positioning Radar project is a work of team made up of three people. We were trying to get the qualification to attend <a href="http://nuedc.sjtu.edu.cn/CN/content.aspx?info_lb=37&amp;flag=2" target="_blank" rel="noopener">ESDC</a> through this project. Sadly, we were out of the game in the stage of school contest.</p>
<p>The radar works in the 2.7 GHz - 3.7 GHz band. It has 4 transmitting antenna and 12 receive antenna. With a transmission power of less than 10 dBm, it localizes a person within a median of 5 cm in the y dimension. Within 5 meters, it has an accuracy of about 20 cm. Without further tests, the maximum distance is unknown. However, it can indicate a person behind a 25 cm concrete wall.</p>
<p>Code and document <a href="https://github.com/pidan1231239/fmcw_positioning_radar" target="_blank" rel="noopener">here</a>. The final presentation with hardware and data processing flow introduction see <a href="https://sway.com/5uSW86N1bUqbrA7T?ref=Link" target="_blank" rel="noopener">here</a>.</p>
<h3 id="fmcw">FMCW</h3>
<blockquote>
<p>Frequency-modulated continuous-wave radar (FM-CW) – also called continuous-wave frequency-modulated (CWFM) radar – is a short-range measuring radar set capable of determining distance (<a href="https://en.wikipedia.org/wiki/Continuous-wave_radar" target="_blank" rel="noopener">Continuous-wave radar wiki</a>).</p>
</blockquote>
<p>If you have no idea about it, the tutorial below is a good starting point.</p>
<ul>
<li><a href="http://www.radartutorial.eu/02.basics/Frequency%20Modulated%20Continuous%20Wave%20Radar.en.html" target="_blank" rel="noopener">Frequency-Modulated Continuous-Wave Radar</a> (<a href="http://www.radartutorial.eu/02.basics/Frequency%20Modulated%20Continuous%20Wave%20Radar.en.html" target="_blank" rel="noopener">FMCW Radar</a>): a brief introduction of the principle of FMCW</li>
<li><a href="https://ocw.mit.edu/resources/res-ll-003-build-a-small-radar-system-capable-of-sensing-range-doppler-and-synthetic-aperture-radar-imaging-january-iap-2011/index.htm" target="_blank" rel="noopener">Build a Small Radar System Capable of Sensing Range, Doppler, and Synthetic Aperture Radar Imaging</a>: an MIT course to build an FMCW radar yourself</li>
<li><a href="https://hackaday.com/2014/02/24/guest-post-try-radar-for-your-next-project/" target="_blank" rel="noopener">GUEST POST: TRY RADAR FOR YOUR NEXT PROJECT</a>: an article written by the instructor of the course above</li>
<li><a href="https://training.ti.com/intro-mmwave-sensing-fmcw-radars-module-1-range-estimation" target="_blank" rel="noopener">Intro to mmWave Sensing: FMCW Radars - Module 1: Range Estimation</a>: a series of 5 short videos  providing a concise yet in-depth introduction to sensing using FMCW radars</li>
</ul>
<h3 id="sdr">SDR</h3>
<blockquote>
<p><a href="https://en.wikipedia.org/wiki/Software-defined_radio" target="_blank" rel="noopener">Software-defined radio</a> (SDR) is a radio communication system where components that have been traditionally implemented in hardware (e.g. mixers, filters, amplifiers, modulators/demodulators, detectors, etc.) are instead implemented by means of software on a personal computer or embedded system.</p>
</blockquote>
<p>The project uses a USRP N210 with an LFRX  daughter board. SDR is not an important part of this project cause the RF front end are made with RF modules and the FMCW generator is build separately. The USRP here acts as a role of ADC and is accessed via Simulink. See how to use a USRP with Simulink below:</p>
<ul>
<li><a href="https://ww2.mathworks.cn/hardware-support/usrp.html?s_tid=srchtitle" target="_blank" rel="noopener">USRP® Support Package from Communications System Toolbox</a>: Matlab toolbox for USRP</li>
<li><a href="http://ecewp.ece.wpi.edu/wordpress/wireless/textbooks/sdrlabs/" target="_blank" rel="noopener">Digital Communication Systems Engineering Using Software Defined Radio</a>: a tutorial of SDR using Simulink</li>
</ul>
<h2 id="hardware">Hardware</h2>
<p>The hardware design can be introduced in two parts, RF front end and FMCW generator. The design references the projects and the papers below:</p>
<ul>
<li><a href="https://ocw.mit.edu/resources/res-ll-003-build-a-small-radar-system-capable-of-sensing-range-doppler-and-synthetic-aperture-radar-imaging-january-iap-2011/index.htm" target="_blank" rel="noopener">Build a Small Radar System Capable of Sensing Range, Doppler, and Synthetic Aperture Radar Imaging</a></li>
<li><a href="http://rfcapture.csail.mit.edu/" target="_blank" rel="noopener">RF-Capture</a>: <a href="http://rfcapture.csail.mit.edu/rfcapture-paper.pdf" target="_blank" rel="noopener">paper see RF-Capture: Capturing a Coarse Human Figure Through a Wall</a></li>
<li><a href="http://witrack.csail.mit.edu/" target="_blank" rel="noopener">WiTrack</a>: papers see <a href="http://witrack.csail.mit.edu/witrack-paper.pdf" target="_blank" rel="noopener">3D Tracking via Body Radio Reflections</a>, <a href="http://witrack.csail.mit.edu/witrack2-paper.pdf" target="_blank" rel="noopener">Multi-Person Localization via RF Body Reflections</a></li>
</ul>
<h3 id="fmcw-generator">FMCW generator</h3>
<ul>
<li><a href="http://www.analog.com/en/products/clock-and-timing/phase-locked-loop/fractional-n-pll/adf4159.html" target="_blank" rel="noopener">ADF4159</a> evaluation board: <a href="http://www.analog.com/en/design-center/evaluation-hardware-and-software/evaluation-boards-kits/eval-adf4159.html" target="_blank" rel="noopener">EV-ADF4159EB3Z</a></li>
<li>Loop filter: <a href="http://www.analog.com/cn/products/amplifiers/operational-amplifiers/jfet-input-amplifiers/ad8065.html" target="_blank" rel="noopener">AD8065</a>. It is designed with <a href="https://form.analog.com/Form_Pages/RFComms/ADISimPll.aspx" target="_blank" rel="noopener">ADIsimPLL</a> under the guidance of <a href="http://www.analog.com/media/en/reference-design-documentation/reference-designs/CN0302.pdf" target="_blank" rel="noopener">CN-0302</a>.</li>
<li>VCO: <a href="https://www.minicircuits.com/WebStore/modelSearch.html?model=ZX95-3800A%2B" target="_blank" rel="noopener">ZX95-3800A+</a></li>
<li>Power splitter: <a href="https://www.minicircuits.com/WebStore/modelSearch.html?model=ZX10-2-42%2B" target="_blank" rel="noopener">ZX10-2-42+</a></li>
<li>Attenuator: <a href="https://www.minicircuits.com/WebStore/modelSearch.html?model=VAT-3%2B" target="_blank" rel="noopener">VAT-3+</a></li>
</ul>
<p>The final design works in 2.7 GHz to 3.7 GHz to avoid 2.4 GHz band.</p>














<figure  id="figure-fmcw-generator">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="FMCW generator" srcset="
               /project/fmcw_positioning_radar/FMCW%E4%BF%A1%E5%8F%B7%E5%8F%91%E7%94%9F_hu26183943111256a42d4d4152b4a53e13_20891_3916a8230585af7ced2f41ff60977b55.png 400w,
               /project/fmcw_positioning_radar/FMCW%E4%BF%A1%E5%8F%B7%E5%8F%91%E7%94%9F_hu26183943111256a42d4d4152b4a53e13_20891_c4543a458b2c6486c29181ec7218fe12.png 760w,
               /project/fmcw_positioning_radar/FMCW%E4%BF%A1%E5%8F%B7%E5%8F%91%E7%94%9F_hu26183943111256a42d4d4152b4a53e13_20891_1200x1200_fit_lanczos_2.png 1200w"
               src="/project/fmcw_positioning_radar/FMCW%E4%BF%A1%E5%8F%B7%E5%8F%91%E7%94%9F_hu26183943111256a42d4d4152b4a53e13_20891_3916a8230585af7ced2f41ff60977b55.png"
               width="760"
               height="170"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      FMCW generator
    </figcaption></figure>
<h3 id="rf-front-end">RF front end</h3>
<ul>
<li>PA and LNA: <a href="https://www.minicircuits.com/WebStore/modelSearch.html?model=ZX60-53LNB%2B" target="_blank" rel="noopener">ZX60-53LNB+</a></li>
<li>Power splitter: <a href="https://www.minicircuits.com/WebStore/modelSearch.html?model=ZN2PD-9G%2B" target="_blank" rel="noopener">ZN2PD-9G+</a></li>
<li>Attenuator: <a href="https://www.minicircuits.com/WebStore/modelSearch.html?model=FW-9%2B" target="_blank" rel="noopener">FW-9+</a></li>
<li>Mixer: <a href="https://www.minicircuits.com/WebStore/modelSearch.html?model=ZX05-43%2B" target="_blank" rel="noopener">ZX05-43+</a></li>
<li>Switch: ADRF5040</li>
<li>mbed board: ST NUCLEO-L476RG</li>
</ul>
<p>The mbed board detects the trigger edge and overlay current antenna pair number after the edge. The baseband signal from the mixer and coded sync signal from mbed board are sent into the same LFRX board to achieve synchronization, then will be analyzed in Simulink in real time.</p>














<figure  id="figure-rf-front-end">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="RF front end" srcset="
               /project/fmcw_positioning_radar/FMCW%E5%B0%84%E9%A2%91%E5%89%8D%E7%AB%AF_hue03815aa217ca09856e7c0a7584fbbac_32696_5dcddf45cfc496d8638f2a8c276fc51d.png 400w,
               /project/fmcw_positioning_radar/FMCW%E5%B0%84%E9%A2%91%E5%89%8D%E7%AB%AF_hue03815aa217ca09856e7c0a7584fbbac_32696_6f8da16e8be8df1a14764a9750385147.png 760w,
               /project/fmcw_positioning_radar/FMCW%E5%B0%84%E9%A2%91%E5%89%8D%E7%AB%AF_hue03815aa217ca09856e7c0a7584fbbac_32696_1200x1200_fit_lanczos_2.png 1200w"
               src="/project/fmcw_positioning_radar/FMCW%E5%B0%84%E9%A2%91%E5%89%8D%E7%AB%AF_hue03815aa217ca09856e7c0a7584fbbac_32696_5dcddf45cfc496d8638f2a8c276fc51d.png"
               width="760"
               height="292"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      RF front end
    </figcaption></figure>
<h2 id="software">Software</h2>
<p>Software part includes ADF4159 evaluation board configuration, mbed code, and Simulink model.</p>
<h3 id="adf4159">ADF4159</h3>
<p>The ADF4159 evaluation board is configured using <a href="http://www.analog.com/media/en/evaluation-boards-kits/evaluation-software/ADF4158-9_Setup_v4_10_6.zip" target="_blank" rel="noopener">ADF4158 and ADF4159 Evaluation Board Software</a> via USB. The configuration file <a href="https://github.com/pidan1231239/fmcw_positioning_radar/tree/master/ad4159" target="_blank" rel="noopener">here</a> can be loaded into the software. The board is configured as follows:</p>
<ul>
<li>Ramp mode: Continuous sawtooth</li>
<li>RF frequency: 2.7 GHz - 3.7 GHz</li>
<li>Ramp frequency: 2000 Hz</li>
<li>Charge pump: 1.25 mA</li>
<li>Muxout: Digital lock Detect. It is used as a sync signal to trigger the switching of antennas.</li>
</ul>
<p>The 4 Tx and 12 Rx makes up 4*12 antenna pairs. With ramp frequency of 2000 Hz, every antenna pair is switched to for 41.7 times per second.</p>
<h3 id="mbed-code">mbed code</h3>
<p>The mbed board switches antenna pairs after every trigger edge from the ADF4159 Muxout pin. And it also overlay the antenna pair number to the sync signal. Considering that MCU has some unstable reaction delay between the trigger edge of the sync signal and the first down edge of the output, the MCU first pulls down the sync signal then output bits of the number. In this way, the down edge of the overlaid signal has no jitter. Code of mbed board is <a href="https://github.com/pidan1231239/fmcw_positioning_radar/tree/master/mcu" target="_blank" rel="noopener">here</a>.</p>














<figure  id="figure-antenna-switching-timing-diagram">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="Antenna switching timing diagram" srcset="
               /project/fmcw_positioning_radar/IMG_20180623_094926_huca20fb634e53dde3c09519b7bcecdcb5_343173_eae03d90855160a5a651ee5549a59d8b.jpg 400w,
               /project/fmcw_positioning_radar/IMG_20180623_094926_huca20fb634e53dde3c09519b7bcecdcb5_343173_660eb27965bd32b5343feb2418ca1a11.jpg 760w,
               /project/fmcw_positioning_radar/IMG_20180623_094926_huca20fb634e53dde3c09519b7bcecdcb5_343173_1200x1200_fit_q75_lanczos.jpg 1200w"
               src="/project/fmcw_positioning_radar/IMG_20180623_094926_huca20fb634e53dde3c09519b7bcecdcb5_343173_eae03d90855160a5a651ee5549a59d8b.jpg"
               width="760"
               height="724"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Antenna switching timing diagram
    </figcaption></figure>
<h3 id="simulink-model">Simulink model</h3>
<p>All the models are in the <a href="https://github.com/pidan1231239/fmcw_positioning_radar/tree/master/simulink" target="_blank" rel="noopener">simulink</a> folder. <a href="https://github.com/pidan1231239/fmcw_positioning_radar/blob/master/simulink/RadarImagingAndPositioning.slx" target="_blank" rel="noopener">RadarImagingAndPositioning.slx</a> block implements the basic signal processing logic and output the 2D heat map and target position. The data processing flow is shown in the presentation above. <a href="https://github.com/pidan1231239/fmcw_positioning_radar/blob/master/simulink/usrp_4t12r_heatmap.slx" target="_blank" rel="noopener">usrp_4t12r_heatmap.slx</a>  connects the basic blocks to show the imaging result and targets. For more information about using USRP with Simulink, see the Introduction section above.</p>
<h2 id="results">Results</h2>
<p>In the experimental stage, I built a system with 1 Tx and 3 Rx.</p>














<figure  id="figure-1tx3rx-system">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="1TX3RX system" srcset="
               /project/fmcw_positioning_radar/IMG_20180131_161431_hua447367f1554f7b9f6ef38b45a736be8_2844453_608d3d14ba232f53656c9d172b52e797.jpg 400w,
               /project/fmcw_positioning_radar/IMG_20180131_161431_hua447367f1554f7b9f6ef38b45a736be8_2844453_98fa3b880510463182b55dad50006926.jpg 760w,
               /project/fmcw_positioning_radar/IMG_20180131_161431_hua447367f1554f7b9f6ef38b45a736be8_2844453_1200x1200_fit_q75_lanczos.jpg 1200w"
               src="/project/fmcw_positioning_radar/IMG_20180131_161431_hua447367f1554f7b9f6ef38b45a736be8_2844453_608d3d14ba232f53656c9d172b52e797.jpg"
               width="760"
               height="570"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      1TX3RX system
    </figcaption></figure>
<p>The overlaid sync signal is shown below.</p>














<figure  id="figure-sync-signal">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="Sync signal" srcset="
               /project/fmcw_positioning_radar/IMG_20180131_103642_hu8d85f0640960bde96e2b1ae9e9f41d3b_2042183_da5c54715b46335e54faae34f6deace6.jpg 400w,
               /project/fmcw_positioning_radar/IMG_20180131_103642_hu8d85f0640960bde96e2b1ae9e9f41d3b_2042183_6d87b66883961bf4cf4ee902f4a03465.jpg 760w,
               /project/fmcw_positioning_radar/IMG_20180131_103642_hu8d85f0640960bde96e2b1ae9e9f41d3b_2042183_1200x1200_fit_q75_lanczos.jpg 1200w"
               src="/project/fmcw_positioning_radar/IMG_20180131_103642_hu8d85f0640960bde96e2b1ae9e9f41d3b_2042183_da5c54715b46335e54faae34f6deace6.jpg"
               width="760"
               height="570"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Sync signal
    </figcaption></figure>
<p>1D imaging of each antenna pair is shown below. Tested with a person walking away then walking back. The d axis shows the round trip of the radar signal.</p>














<figure  id="figure-1d-imaging-of-each-antenna-pair">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="1d imaging of each antenna pair" srcset="
               /project/fmcw_positioning_radar/%E4%B8%89%E6%A0%B9%E5%A4%A9%E7%BA%BF%E7%80%91%E5%B8%83%E5%9B%BE_hu95d8e0e5e4514c2335bb54c686fd91e3_150387_a025354eccc17bd053f939b0af2e351c.jpg 400w,
               /project/fmcw_positioning_radar/%E4%B8%89%E6%A0%B9%E5%A4%A9%E7%BA%BF%E7%80%91%E5%B8%83%E5%9B%BE_hu95d8e0e5e4514c2335bb54c686fd91e3_150387_874b543fe1498bb4b493a46ecca33f85.jpg 760w,
               /project/fmcw_positioning_radar/%E4%B8%89%E6%A0%B9%E5%A4%A9%E7%BA%BF%E7%80%91%E5%B8%83%E5%9B%BE_hu95d8e0e5e4514c2335bb54c686fd91e3_150387_1200x1200_fit_q75_lanczos.jpg 1200w"
               src="/project/fmcw_positioning_radar/%E4%B8%89%E6%A0%B9%E5%A4%A9%E7%BA%BF%E7%80%91%E5%B8%83%E5%9B%BE_hu95d8e0e5e4514c2335bb54c686fd91e3_150387_a025354eccc17bd053f939b0af2e351c.jpg"
               width="733"
               height="760"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      1d imaging of each antenna pair
    </figcaption></figure>
<p>The system was then expanded to 1 Tx and 8 Rx. In this stage, 2D imaging can be done.</p>














<figure  id="figure-1tx8rx-system">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="1TX8RX system" srcset="
               /project/fmcw_positioning_radar/IMG_20180205_100729_hu45db6a084c1ff16c9fb139d18d576334_3344766_d8599033960a701de596e987e4d13f5f.jpg 400w,
               /project/fmcw_positioning_radar/IMG_20180205_100729_hu45db6a084c1ff16c9fb139d18d576334_3344766_22721d2db80b1c8f43e3164ae09c4120.jpg 760w,
               /project/fmcw_positioning_radar/IMG_20180205_100729_hu45db6a084c1ff16c9fb139d18d576334_3344766_1200x1200_fit_q75_lanczos.jpg 1200w"
               src="/project/fmcw_positioning_radar/IMG_20180205_100729_hu45db6a084c1ff16c9fb139d18d576334_3344766_d8599033960a701de596e987e4d13f5f.jpg"
               width="760"
               height="570"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      1TX8RX system
    </figcaption></figure>
<p>The following image is the heat map captured from the 1Tx8Rx system. The x-axis indicates angle from left to right. y-axis indicates the round distance of the radar signal. This illustration was made in a hurry so there is no complete annotation.</p>














<figure  id="figure-1tx8rx-top-down-heatmap">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="1Tx8Rx top-down heatmap" srcset="
               /project/fmcw_positioning_radar/Image_hu53c2b146e41b1abaaf339536bc9d4456_16606_51cebd848db84e90452d7fe2cccdc9ff.png 400w,
               /project/fmcw_positioning_radar/Image_hu53c2b146e41b1abaaf339536bc9d4456_16606_fa2044fdd9fef4b518cb942c25befe20.png 760w,
               /project/fmcw_positioning_radar/Image_hu53c2b146e41b1abaaf339536bc9d4456_16606_1200x1200_fit_lanczos_2.png 1200w"
               src="/project/fmcw_positioning_radar/Image_hu53c2b146e41b1abaaf339536bc9d4456_16606_51cebd848db84e90452d7fe2cccdc9ff.png"
               width="493"
               height="409"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      1Tx8Rx top-down heatmap
    </figcaption></figure>
<p>After that, the system was expanded to 4 Tx and 12 Rx. In this stage, 3D imaging can be done.</p>














<figure  id="figure-4tx12rx-system">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="4TX12RX system" srcset="
               /project/fmcw_positioning_radar/1522473970150_48c5a36482b4463d3e4516373d3e01c5_hu3bd8cd3939b07eababb838e569c7a786_2152364_877eb2795ba63eaf22836c4a7b449e5b.jpg 400w,
               /project/fmcw_positioning_radar/1522473970150_48c5a36482b4463d3e4516373d3e01c5_hu3bd8cd3939b07eababb838e569c7a786_2152364_3ca333879363013d299ed92df5c333a5.jpg 760w,
               /project/fmcw_positioning_radar/1522473970150_48c5a36482b4463d3e4516373d3e01c5_hu3bd8cd3939b07eababb838e569c7a786_2152364_1200x1200_fit_q75_lanczos.jpg 1200w"
               src="/project/fmcw_positioning_radar/1522473970150_48c5a36482b4463d3e4516373d3e01c5_hu3bd8cd3939b07eababb838e569c7a786_2152364_877eb2795ba63eaf22836c4a7b449e5b.jpg"
               width="760"
               height="570"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      4TX12RX system
    </figcaption></figure>
<p>The following gif shows the 3D imaging projected to xz-plane of a person holding a corner reflector and drawing a circle in the air.</p>














<figure  id="figure-heatmap-front-view">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="Heatmap front view" srcset="
               /project/fmcw_positioning_radar/_hu9d2a310dd94e072dfba2a9d7def6ad75_3655283_276e26ecbfc490ab1ca0465ea6927075.gif 400w,
               /project/fmcw_positioning_radar/_hu9d2a310dd94e072dfba2a9d7def6ad75_3655283_3ba4f4e8a9ba757d72271bfec70916b1.gif 760w,
               /project/fmcw_positioning_radar/_hu9d2a310dd94e072dfba2a9d7def6ad75_3655283_78f3f39ee8dd8adff9f34ca607e19cca.gif 1200w"
               src="/project/fmcw_positioning_radar/_hu9d2a310dd94e072dfba2a9d7def6ad75_3655283_276e26ecbfc490ab1ca0465ea6927075.gif"
               width="560"
               height="420"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Heatmap front view
    </figcaption></figure>
<p>The gif below shows the 2D imaging of xy-plane with target tracking. The target person was walking around in the distance of 3 meters. The y-axis indicates the round distance of radar signal.</p>














<figure  id="figure-heatmap-top-down-view">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="Heatmap top-down view" srcset="
               /project/fmcw_positioning_radar/heatMapTarget_hu9d00e611e044496101eb698a1149f236_1478066_99a6cdd3971d7428d4e24ab3c3716bee.gif 400w,
               /project/fmcw_positioning_radar/heatMapTarget_hu9d00e611e044496101eb698a1149f236_1478066_913ee12c029a82525015a3bcb888e8b0.gif 760w,
               /project/fmcw_positioning_radar/heatMapTarget_hu9d00e611e044496101eb698a1149f236_1478066_1200x1200_fit_lanczos.gif 1200w"
               src="/project/fmcw_positioning_radar/heatMapTarget_hu9d00e611e044496101eb698a1149f236_1478066_99a6cdd3971d7428d4e24ab3c3716bee.gif"
               width="760"
               height="570"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Heatmap top-down view
    </figcaption></figure>
<p>I tried to extract the z-axis coordinate of person target. However, because of the reflection angle mentioned in <a href="http://rfcapture.csail.mit.edu/" target="_blank" rel="noopener">RF-Capture</a>, and the intensified effect by the lower frequency band of our system, the height of a person cannot be accurately detected.</p>
<p>The image shows the heat map of the target in the z-axis changing with time. The target is walking in place then squats in the 10th second. As shown below, the height drops several times when the target moves.</p>














<figure  id="figure-heatmap-z">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="Heatmap z" srcset="
               /project/fmcw_positioning_radar/Image2_hu0ebc041c16d6d6cdba6f5a60288afea2_50325_51a4351994d031752db7ae7fc0cb88f0.png 400w,
               /project/fmcw_positioning_radar/Image2_hu0ebc041c16d6d6cdba6f5a60288afea2_50325_b804661373cc5c4aed6fd15fed9de303.png 760w,
               /project/fmcw_positioning_radar/Image2_hu0ebc041c16d6d6cdba6f5a60288afea2_50325_1200x1200_fit_lanczos_2.png 1200w"
               src="/project/fmcw_positioning_radar/Image2_hu0ebc041c16d6d6cdba6f5a60288afea2_50325_51a4351994d031752db7ae7fc0cb88f0.png"
               width="515"
               height="414"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Heatmap z
    </figcaption></figure>
<p>The final work was put on a cart.</p>














<figure  id="figure-final-system">
  <div class="d-flex justify-content-center">
    <div class="w-100" >
        <img alt="Final system" srcset="
               /project/fmcw_positioning_radar/IMG_20180416_155121_hu334e9b627c680a8ef93de0d84f8837c8_3746606_0e76cccf2dbf9dbdcdf4bc02c0385f3b.jpg 400w,
               /project/fmcw_positioning_radar/IMG_20180416_155121_hu334e9b627c680a8ef93de0d84f8837c8_3746606_ed5121006969014feda62bfd43f354af.jpg 760w,
               /project/fmcw_positioning_radar/IMG_20180416_155121_hu334e9b627c680a8ef93de0d84f8837c8_3746606_1200x1200_fit_q75_lanczos.jpg 1200w"
               src="/project/fmcw_positioning_radar/IMG_20180416_155121_hu334e9b627c680a8ef93de0d84f8837c8_3746606_0e76cccf2dbf9dbdcdf4bc02c0385f3b.jpg"
               width="570"
               height="760"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Final system
    </figcaption></figure>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/radar/">Radar</a>
  
  <a class="badge badge-light" href="/tag/contest/">Contest</a>
  
  <a class="badge badge-light" href="/tag/electronics-design/">Electronics Design</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://chengzhag.github.io/project/fmcw_positioning_radar/&amp;text=FMCW%20Positioning%20Radar" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://chengzhag.github.io/project/fmcw_positioning_radar/&amp;t=FMCW%20Positioning%20Radar" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=FMCW%20Positioning%20Radar&amp;body=https://chengzhag.github.io/project/fmcw_positioning_radar/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://chengzhag.github.io/project/fmcw_positioning_radar/&amp;title=FMCW%20Positioning%20Radar" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=FMCW%20Positioning%20Radar%20https://chengzhag.github.io/project/fmcw_positioning_radar/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://chengzhag.github.io/project/fmcw_positioning_radar/&amp;title=FMCW%20Positioning%20Radar" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://chengzhag.github.io/"><img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu576bf810bc605a94727766389217b97b_418874_270x270_fill_q75_lanczos_center.jpg" alt="Cheng Zhang"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://chengzhag.github.io/">Cheng Zhang</a></h5>
      <h6 class="card-subtitle">Graduate Student</h6>
      <p class="card-text">My research interests include 3D reconstruction, 3D detection, 3D scene understanding, etc.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=2uEyZJQAAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/pidan1231239" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:chengzhag@std.uestc.edu.cn" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>
















  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/project/ball_on_big_plate/">Ball on Big Plate</a></li>
      
      <li><a href="/project/ball_on_small_plate/">Ball on Small Plate</a></li>
      
      <li><a href="/project/ball_on_beam/">Ball on Beam</a></li>
      
      <li><a href="/project/rotary_inverted_pendulum/">Rotary Inverted Pendulum</a></li>
      
    </ul>
  </div>
  





    <div class="project-related-pages content-widget-hr">
      
      

      
      
      

      
      
      

      
      
      
    </div>
  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  

  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a> — the free, <a href="https://github.com/wowchemy/wowchemy-hugo-modules" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      
      

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
    

    
    <script src="/js/bootstrap.bundle.min.6aed84840afc03ab4d5750157f69c120.js"></script>

    
    
      
      
      
      
      
      
      
    

    
    
    
    
    
    
    
    
      
      
    
    
    <script src="/en/js/wowchemy.min.b61a8f62b6e5c0cd322c8158c5b5dfb6.js"></script>

    






</body>
</html>
